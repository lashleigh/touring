<%= javascript_include_tag 'map_day_show' %>

<script type="text/javascript">
  var day = <%= @day.to_json.html_safe %>;
  var prev_day = <%= @prev_day.to_json.html_safe %>;
  var next_day = <%= @next_day.to_json.html_safe %>;
  var trip = <%= @trip.to_json(:include => :days).html_safe %>;
</script>

<div id="day" style="float:left;">
  <%= label_tag :start_location %><br />
  <% if @prev_day %>
    <%= @prev_day.stop_location %>
  <% else %>
    <%= @trip.start_location %>
  <% end %>
  <div class="editable" contentEditable=true> <%= @day.stop_location%> </div>
  <%= render 'form' %>

  <%= link_to 'Edit', edit_trip_day_path(@trip, @day) %> |
  <% if @prev_day %>
    <%= link_to 'Prev day', trip_day_path(@trip, @prev_day) %> |
  <% end %>
  <% if @next_day %>
    <%= link_to 'Next day', trip_day_path(@trip, @next_day) %> |
  <% end %>
  <%= link_to 'Back', trip_days_path %>
</div>

<div id="elevation_chart" style="float: right; width: 640px; height: 200px; display: block; "></div>
<div class="rule"></div>
<div id="total"> </div>
<div>
  <b>Mode of Travel: </b>
  <select id="mode" onchange="calcRoute();">
    <option value="BICYCLING">Bicycling</option>
    <option value="DRIVING">Driving</option>
    <option value="WALKING">Walking</option>
  </select>
</div>
<div id="directionsPanel" > </div>

<div id="map_canvas"> </div>
